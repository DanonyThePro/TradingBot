<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    body {
      font-family: monospace;
      font-size: 200%;
      margin: 20px;
      background-color: #1e5b87;
      color: lightblue;
    }
  </style>

  <script>
    async function update() {
      try {
        const response = await fetch("/reload");
        const data = await response.json();
        document.getElementById("current_price").innerText = `Current Price: ${data["Current Price"]}`;
        document.getElementById("last_check").innerText = `Last Check: ${data["Last Check"]}`;
      }
      catch(err) {
        console.error("Error fetching price:", err);
      }
    }

    setInterval(update, 5000);
    update();
  </script>

  <title>Bot Status</title>
</head>
<body>

  <h1>Bot Status</h1>
  <p>status: {{ status }} </p>
  <p>symbol: {{ symbol }} </p>
  <p id="current_price">
    Current Price: {{ current_price }}
  </p>
  <p>Entry Price: {{ entry_price }} </p>
  <p>Stop Loss: {{ stop_loss }} </p>
  <p>Take Profit: {{ take_profit }} </p>
  <p>Balance: {{ balance }} </p>
  <p>P&L(%): {{ pnl_percent }} </p>
  <p>P&L($): {{ pnl_dollar }} </p>
  <p id="last_check">
    Last Check: {{ last_check }}
  </p>
</body>
</html>